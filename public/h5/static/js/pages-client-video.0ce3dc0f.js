(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-client-video"],{1068:function(i,t,e){var n=e("a083");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[i.i,n,""]]),n.locals&&(i.exports=n.locals);var o=e("4f06").default;o("27f78b94",n,!0,{sourceMap:!1,shadowMode:!1})},"1f12":function(i,t,e){"use strict";e.r(t);var n=e("e631"),o=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(i){e.d(t,i,(function(){return n[i]}))}(s);t["default"]=o.a},"4d1e":function(i,t,e){i.exports=e.p+"static/img/sc.1de169b6.png"},8792:function(i,t,e){i.exports=e.p+"static/img/share-fill.89e5bf7a.png"},a083:function(i,t,e){var n=e("24fb");t=n(!1),t.push([i.i,".title[data-v-108eafd9]{width:100%;display:flex;justify-content:center;align-items:center;height:%?60?%}.wrap_content[data-v-108eafd9]{border-radius:%?20?%;display:flex;justify-content:center;align-items:center;background:grey;color:#0ff;height:100%;font-size:80px;margin:%?0?% %?40?%}.container[data-v-108eafd9]{background-color:#000}.item[data-v-108eafd9]{\n\t\t/* width : 750rpx; */background-color:#000;position:relative}.videoHover[data-v-108eafd9]{position:absolute;top:40px;left:0;flex:1;background-color:rgba(0,0,0,.1);justify-content:center;align-items:center\n\t\t\n\t\t/* border-style: dashed;\n\t\tborder-color: #DD524D;\n\t\tborder-width: 1px; */}.playState[data-v-108eafd9]{width:%?160?%;height:%?160?%;opacity:.2}.userInfo[data-v-108eafd9]{position:absolute;z-index:99;bottom:30%;right:10px;width:%?100?%;text-align:center;flex-direction:column}.userAvatar[data-v-108eafd9]{border-radius:500%;margin-bottom:15px;border-style:solid;border-width:2px;border-color:#fff}.userAvatar[data-v-108eafd9]{width:%?100?%;height:%?100?%}.likeIco[data-v-108eafd9],.shareIco[data-v-108eafd9],.commentIco[data-v-108eafd9]{width:%?60?%;height:%?60?%;margin-top:15px}.likeNum[data-v-108eafd9],.commentNum[data-v-108eafd9],.shareTex[data-v-108eafd9]{color:#fff;font-size:%?30?%;text-align:center;margin:5px}.likeNumActive[data-v-108eafd9]{color:red}.contentcd[data-v-108eafd9]{width:%?720?%;z-index:99;position:absolute;bottom:30px;\n\t  /* justify-content: center; */padding:%?15?%;flex-direction:column;justify-content:flex-start;color:#fff}.userName[data-v-108eafd9]{font-size:%?30?%;color:#fff;margin-top:%?80?%;margin-left:%?-12?%}.words[data-v-108eafd9]{margin-top:%?16?%;font-size:%?30?%;color:#fff;margin-bottom:%?20?%}.wordss[data-v-108eafd9]{margin-top:%?10?%;font-size:%?26?%;color:#fff}.root[data-v-108eafd9]{background-color:#000}",""]),i.exports=t},d0d2:function(i,t,e){i.exports=e.p+"static/img/aixin.bee8cfc2.png"},d27e:function(i,t,e){"use strict";var n=e("1068"),o=e.n(n);o.a},d9bc:function(i,t,e){i.exports=e.p+"static/img/scRed.11d7b5d8.png"},e631:function(i,t,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("14d9");var o=n(e("6ff1")),s=(uni.createInnerAudioContext(),{data:function(){return{controls:!0,originList:[],displaySwiperList:[],displayIndex:0,originIndex:0,windowWidth:0,windowHeight:0,current:0,oid:0,isplay:!0,playCount:2,nodate:!0,issp:"",isqp:!0,page:1,urls:o.default.webUrl,uid:0}},onShareAppMessage:function(i){},onLoad:function(i){console.log("eeeeeee-----",i),i.fxpid&&i.fxpid>0&&uni.setStorage({key:"fxpid",data:i.fxpid}),uni.getStorageSync("userinfo")&&(this.uid=uni.getStorageSync("userinfo").id),this.windowWidth=uni.getSystemInfoSync().windowWidth,this.windowHeight=uni.getSystemInfoSync().windowHeight,this.Recommend()},methods:{share:function(){var i="/pages/client/video?fxpid="+this.uid;uni.setClipboardData({data:this.urls+"/h5/#"+i,complete:function(){uni.showToast({title:"分享连接已复制到剪贴板"})}})},tapVideoHover:function(){this.isqp=!this.isqp},Recommend:function(){var i=this,t=0;uni.getStorageSync("userinfo")&&(t=uni.getStorageSync("userinfo").id),uni.request({url:this.urls+"/api/video/videoRecommend?page="+this.page+"&uid="+t,success:function(t){if(1==t.data.isempty){for(var e=t.data.data,n=0;n<e.length;n++)i.originList.push(e[n]);1==i.page&&i.initSwiperData(),i.page=i.page+1}else i.nodate=!1}})},ended:function(){this.isplay&&(this.displayIndex<2?this.current=this.displayIndex+1:this.current=0,console.log("显示swiper Index:",this.displayIndex))},initSwiperData:function(){var i=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.originIndex;console.log("--------当前数据 Index:",t);var e=this.originList.length,n=[];n[this.displayIndex]=this.originList[t],n[this.displayIndex-1==-1?2:this.displayIndex-1]=this.originList[t-1==-1?e-1:t-1],n[this.displayIndex+1==3?0:this.displayIndex+1]=this.originList[t+1==e?0:t+1],this.displaySwiperList=n,this.oid>=this.originList.length&&(this.oid=0),this.oid<0&&(this.oid=this.originList.length-1),console.log("++++++++++++上一条播放数据 Index:",this.oid),uni.createVideoContext(this.originList[this.oid]._id,this).stop(),setTimeout((function(){console.log("qqqqqq:",i.originList[t]._id),uni.createVideoContext(i.originList[t]._id,i).play()}),500);var o=this.originList.length-this.playCount;t==o&&this.nodate&&this.Recommend()},swiperChange:function(i){var t=i.detail.current,e=this.originList.length;this.displayIndex-t==2||this.displayIndex-t==-1?(this.originIndex=this.originIndex+1==e?0:this.originIndex+1,this.displayIndex=this.displayIndex+1==3?0:this.displayIndex+1,this.oid=this.originIndex-1,this.initSwiperData(this.originIndex)):this.displayIndex-t!=-2&&this.displayIndex-t!=1||(this.originIndex=this.originIndex-1==-1?e-1:this.originIndex-1,this.displayIndex=this.displayIndex-1==-1?2:this.displayIndex-1,this.oid=this.originIndex+1,this.initSwiperData(this.originIndex)),this.isqp=!0},detail:function(i,t){var e=1;uni.getStorageSync("userinfo")&&(e=uni.getStorageSync("userinfo").id),uni.navigateTo({url:"/pages/client/tuan/detail?vid="+i+"&mid="+t+"&fxpid="+e})},toComment:function(i,t,e){if(!uni.getStorageSync("userinfo"))return this.denglu(),!1;this.displaySwiperList[this.displayIndex];this.displaySwiperList[this.displayIndex].iszj=1==i?2:1;var n={vid:t,mid:e};n.token=uni.getStorageSync("userinfo").token,n.uid=uni.getStorageSync("userinfo").id,uni.request({url:this.urls+"/api/user/videorecord",data:n,success:function(i){},fail:function(i,t){}})},controlstoggle:function(i){console.log(i.detail.show),this.issp=i.detail.show},cLike:function(i,t,e){if(!uni.getStorageSync("userinfo"))return this.denglu(),!1;var n=this.displaySwiperList[this.displayIndex];1==i?(this.displaySwiperList[this.displayIndex].like=2,n.like_n+=1):(this.displaySwiperList[this.displayIndex].like=1,n.like_n-=1),console.log(t);var o={vid:t,mid:e};o.token=uni.getStorageSync("userinfo").token,o.uid=uni.getStorageSync("userinfo").id,uni.request({url:this.urls+"/api/user/tapLove",data:o,success:function(i){},fail:function(i,t){}})},denglu:function(){uni.showModal({title:"温馨提示",content:"请先登录",showCancel:!0,confirmText:"登录",success:function(i){i.confirm?uni.navigateTo({url:"/pages/login/login"}):i.cancel}})}},created:function(){}});t.default=s},f6b9:function(i,t,e){"use strict";e.r(t);var n=e("fe25"),o=e("1f12");for(var s in o)["default"].indexOf(s)<0&&function(i){e.d(t,i,(function(){return o[i]}))}(s);e("d27e");var a=e("f0c5"),d=Object(a["a"])(o["default"],n["b"],n["c"],!1,null,"108eafd9",null,!1,n["a"],void 0);t["default"]=d.exports},fe25:function(i,t,e){"use strict";e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){}));var n=function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("v-uni-swiper",{staticClass:"swiper",style:"width: "+i.windowWidth+"px; height: "+i.windowHeight+"px; background-color: #000;",attrs:{circular:!0,current:i.current,vertical:!0,duration:"300"},on:{change:function(t){arguments[0]=t=i.$handleEvent(t),i.swiperChange.apply(void 0,arguments)}}},i._l(i.displaySwiperList,(function(t,o){return n("v-uni-swiper-item",{key:o},[0!=Math.abs(i.displayIndex-o)?n("v-uni-view",{staticStyle:{"z-index":"999"}},[0!=Math.abs(i.displayIndex-o)?n("v-uni-video",{style:"width: "+i.windowWidth+"px; height: "+i.windowHeight+"px;",attrs:{id:t._id,controls:i.controls,autoplay:!1,loop:!1,src:t.src},on:{ended:function(t){arguments[0]=t=i.$handleEvent(t),i.ended.apply(void 0,arguments)},controlstoggle:function(t){arguments[0]=t=i.$handleEvent(t),i.controlstoggle.apply(void 0,arguments)},click:function(t){arguments[0]=t=i.$handleEvent(t),i.tapVideoHover()}}}):i._e()],1):i._e(),0==Math.abs(i.displayIndex-o)?n("v-uni-view",[0==Math.abs(i.displayIndex-o)?n("v-uni-video",{style:"width: "+i.windowWidth+"px; height: "+i.windowHeight+"px;",attrs:{id:t._id,controls:i.controls,isplay:!0,loop:!i.isplay,"enable-progress-gesture":!1,src:t.src},on:{ended:function(t){arguments[0]=t=i.$handleEvent(t),i.ended.apply(void 0,arguments)},controlstoggle:function(t){arguments[0]=t=i.$handleEvent(t),i.controlstoggle.apply(void 0,arguments)},click:function(t){arguments[0]=t=i.$handleEvent(t),i.tapVideoHover()}}}):i._e()],1):i._e(),i.isqp?n("v-uni-view",{staticClass:"userInfo"},[n("v-uni-view",{staticStyle:{opacity:"0.9","margin-top":"17px"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=i.$handleEvent(e),i.cLike(t.like,t.id,t.mid)}}},[1*t.like==1?n("v-uni-image",{staticStyle:{width:"40px",height:"40px",position:"absolute",right:"6px"},attrs:{src:e("d0d2")}}):i._e(),1*t.like==2?n("v-uni-image",{staticStyle:{width:"40px",height:"40px",position:"absolute",right:"6px"},attrs:{src:e("ff5d")}}):i._e(),n("v-uni-text",{class:{likeNumActive:t.like},staticStyle:{color:"#FFFFFF","margin-top":"40px","font-size":"14px","text-align":"center","font-weight":"bold"}},[i._v(i._s(t.like_n))])],1),n("v-uni-view",{staticStyle:{opacity:"0.9","margin-top":"17px"}},[n("v-uni-image",{staticStyle:{width:"40px",height:"40px",position:"absolute",right:"5px"},attrs:{src:e("8792")}}),n("v-uni-text",{staticStyle:{color:"#FFFFFF","margin-top":"40px","font-size":"14px","text-align":"center","font-weight":"bold"}},[i._v("分享")]),n("v-uni-button",{staticStyle:{position:"absolute",background:"none",width:"100%",height:"100%"},attrs:{"open-type":"share"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=i.$handleEvent(t),i.share.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"comment",staticStyle:{opacity:"0.9","margin-top":"17px"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=i.$handleEvent(e),i.toComment(t.iszj,t.id,t.mid)}}},[1*t.iszj==1?n("v-uni-image",{staticStyle:{width:"40px",height:"40px",position:"absolute",right:"6px"},attrs:{src:e("4d1e")}}):i._e(),1*t.iszj==2?n("v-uni-image",{staticStyle:{width:"40px",height:"40px",position:"absolute",right:"6px"},attrs:{src:e("d9bc")}}):i._e(),1*t.iszj==1?n("v-uni-text",{staticStyle:{color:"#FFFFFF","margin-top":"40px","font-size":"14px","font-weight":"bold","text-align":"center"}},[i._v("追剧")]):i._e(),1*t.iszj==2?n("v-uni-text",{staticStyle:{color:"#ff0000","margin-top":"40px","font-size":"14px","font-weight":"bold","text-align":"center"}},[i._v("已追")]):i._e()],1)],1):i._e(),i.isqp?n("v-uni-view",{staticClass:"contentcd"},[n("v-uni-text",{staticClass:"userName",style:"width: "+(i.windowWidth-90)+"px;"},[i._v(i._s(t.title))]),n("v-uni-text",{staticClass:"wordss",style:"width: "+(i.windowWidth-90)+"px;"},[i._v(i._s(t.msg))]),n("v-uni-text",{staticClass:"words",style:"width: "+(i.windowWidth-90)+"px;",on:{click:function(e){e.stopPropagation(),arguments[0]=e=i.$handleEvent(e),i.detail(t.id,0)}}},[i._v(i._s(t.namets))])],1):i._e()],1)})),1)],1)},o=[]},ff5d:function(i,t,e){i.exports=e.p+"static/img/aixinRed.4924bfc7.png"}}]);